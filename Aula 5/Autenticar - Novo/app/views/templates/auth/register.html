{% extends "base.html" %}
{% block content %}

<link href="{{ url_for('static', filename='css/sign-in.css') }}" rel="stylesheet">

<style>
  .form-register {
    max-width: 400px;
    padding: 1rem;
  }

  .form-register .form-floating:focus-within {
    z-index: 2;
  }

  .form-register input[type="text"] {
    margin-bottom: -1px;
    border-bottom-right-radius: 0;
    border-bottom-left-radius: 0;
  }

  .form-register input[type="email"] {
    margin-bottom: -1px;
    border-radius: 0;
  }

  .form-register input[type="password"] {
    margin-bottom: 10px;
    border-top-left-radius: 0;
    border-top-right-radius: 0;
  }
</style>

<main class="form-register w-100 m-auto">
  <form method="POST" action="{{ url_for('auth.register') }}">
    <img class="mb-4" src="{{ url_for('static', filename='images/bootstrap-logo.svg') }}" alt="" width="72" height="57">
    <h1 class="h3 mb-3 fw-normal">Criar Conta</h1>

    <!-- Mensagens de flash -->
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="alert alert-{{ 'success' if category == 'success' else 'danger' }} alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
          </div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    <!-- Mensagem de erro -->
    {% if error %}
      <div class="alert alert-danger alert-dismissible fade show" role="alert">
        {{ error }}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
    {% endif %}

    <div class="form-floating">
      <input type="text" class="form-control" id="floatingName" name="name" placeholder="Seu nome" required>
      <label for="floatingName">Nome completo</label>
    </div>

    <div class="form-floating">
      <input type="email" class="form-control" id="floatingInput" name="email" placeholder="name@example.com" required>
      <label for="floatingInput">Email</label>
    </div>

    <div class="form-floating">
      <input type="password" class="form-control" id="floatingPassword" name="password" placeholder="Senha" required>
      <label for="floatingPassword">Senha</label>
    </div>

    <div class="form-floating">
      <input type="password" class="form-control" id="floatingConfirmPassword" name="confirm_password" placeholder="Confirmar Senha" required>
      <label for="floatingConfirmPassword">Confirmar Senha</label>
    </div>

    <div class="form-check text-start my-3">
      <input class="form-check-input" type="checkbox" value="agree-terms" id="checkTerms" required>
      <label class="form-check-label" for="checkTerms">
        Concordo com os <a href="#">termos de uso</a>
      </label>
    </div>

    <button class="btn btn-primary w-100 py-2" type="submit">
      Criar Conta
    </button>

    <div class="mt-3 text-center">
      <p>Já tem uma conta? <a href="{{ url_for('auth.login') }}">Faça login</a></p>
    </div>

    <p class="mt-5 mb-3 text-body-secondary">&copy; 2017–2025</p>
  </form>
</main>

<script src="{{ url_for('static', filename='js/bootstrap.bundle.min.js') }}"></script>

{% endblock %}